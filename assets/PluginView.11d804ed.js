import{g as N,h as D,i as k,_ as f,r,o as l,c as u,w as c,a as s,q as x,d as R,j as S,s as $,b as _,v as i,e as z,t as C}from"./index.6f9e7e4b.js";import{o as d}from"./octokit.2d823010.js";const F=async(o,n)=>{const t=await d.repos.get({owner:o,repo:n}),a=await d.repos.listReleases({owner:o,repo:n}),e=await d.repos.getReadme({owner:o,repo:n,mediaType:{format:"html"}});return{repoData:t,releaseData:a,readme:e.data.toString(),notFound:!1}},T=(o,n)=>{const t=sessionStorage.getItem(`repo-data[${o}/${n}]`);return t==null?{notFound:!1}:JSON.parse(t)},V=(o,n)=>{const t=N(T(o,n));return D(()=>{(async()=>{try{const e=await F(o,n);t.value=e,sessionStorage.setItem(`repo-data[${o}/${n}]`,JSON.stringify(e))}catch(e){console.error("Error:",e),t.value={notFound:!0}}})()}),{data:k(t)}},b={};function E(o,n){const t=r("v-spacer"),a=r("v-progress-circular"),e=r("v-col"),m=r("v-row");return l(),u(m,null,{default:c(()=>[s(t),s(e,{cols:"auto"},{default:c(()=>[s(a,{indeterminate:""})]),_:1}),s(t)]),_:1})}const I=f(b,[["render",E]]),L={};function M(o,n){const t=r("v-alert"),a=r("v-col"),e=r("v-row");return l(),u(e,null,{default:c(()=>[s(a,null,{default:c(()=>[s(t,{type:"error"},{default:c(()=>[x(o.$slots,"default")]),_:3})]),_:3})]),_:3})}const P=f(L,[["render",M]]),B=R({__name:"PluginView",setup(o){const{t:n}=S(),a=$().params.name.toString(),{data:e}=V("MikChanNoPlugins",a);return(m,H)=>{const v=r("v-card-text"),g=r("v-card"),y=r("v-col"),h=r("v-row"),w=r("v-container");return l(),u(w,null,{default:c(()=>[!_(e).notFound&&!_(e).readme?(l(),u(I,{key:0})):i("",!0),_(e).notFound?(l(),u(P,{key:1},{default:c(()=>[z(C(_(n)("not-found",{pluginName:_(a)})),1)]),_:1})):i("",!0),s(h,null,{default:c(()=>[s(y,null,{default:c(()=>[!_(e).notFound&&_(e).readme?(l(),u(g,{key:0},{default:c(()=>[s(v,{innerHTML:_(e).readme},null,8,["innerHTML"])]),_:1})):i("",!0)]),_:1})]),_:1})]),_:1})}}});function p(o){o.__i18n=o.__i18n||[],o.__i18n.push({locale:"",resource:{en:{"not-found":n=>{const{normalize:t,interpolate:a,named:e}=n;return t(['Plugin "',a(e("pluginName")),'" is not found!'])}},ru:{"not-found":n=>{const{normalize:t,interpolate:a,named:e}=n;return t(['\u041F\u043B\u0430\u0433\u0438\u043D "',a(e("pluginName")),'" \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D!'])}},uk:{"not-found":n=>{const{normalize:t,interpolate:a,named:e}=n;return t(['\u041F\u043B\u0430\u0433\u0456\u043D "',a(e("pluginName")),'" \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u043E!'])}}}})}typeof p=="function"&&p(B);export{B as default};
