import{o as x,R,a as P}from"./RowLoading.107d0e52.js";import{_ as S,$ as L,a0 as T,a1 as C,o as l,c as i,w as n,a as r,a2 as V,a3 as B,h as k,V as b,d as w,i as I,a4 as f,a5 as $,t as g,e as u,g as F,a6 as z,a7 as O,a8 as v,f as m,a9 as E,aa as p,ab as G,ac as j,j as J,ad as q,ae as M}from"./index.c7528278.js";import{V as D,a as N}from"./VCard.648a269a.js";const A=async s=>({reposData:(await x.repos.listForOrg({org:s})).data.map(e=>{var c,_;return{...e,topics:(c=e.topics)!=null?c:[],stargazers_count:(_=e.stargazers_count)!=null?_:0}})}),H=()=>{const s=sessionStorage.getItem("github-repo-data");return s==null?{status:"loading"}:{...JSON.parse(s),status:"found"}},K=s=>{const a=S(H());return L(()=>{(async()=>{try{const e=await A(s);a.value={...e,status:"found"},sessionStorage.setItem("github-repo-data",JSON.stringify(e))}catch(e){a.value.status=="loading"&&(console.error(e),a.value={status:"notFound"})}})()}),{reposData:T(a)}},Q={};function U(s,a){return l(),i(b,null,{default:n(()=>[r(k,{cols:"auto"},{default:n(()=>[r(D,null,{default:n(()=>[r(N,null,{default:n(()=>[V("h1",null,[B(s.$slots,"default")])]),_:3})]),_:3})]),_:3})]),_:3})}const W=C(Q,[["render",U]]),X={key:0},Y=m(" Nothing here "),Z=w({__name:"PluginListCard",props:{data:{type:Object,required:!0}},setup(s){const a=s,t=I(),e=f(()=>a.data),c=()=>t.push({name:"plugin",params:{name:e.value.name.toLowerCase()}}),_=()=>{var o;return(o=window.open(`https://github.com/${e.value.full_name}`,"_blank"))==null?void 0:o.focus()};return(o,d)=>(l(),i(D,null,{default:n(()=>[r(G,{flat:""},{default:n(()=>[r($,null,{default:n(()=>[V("span",{class:"hoverable",onClick:c},g(u(e).name),1)]),_:1}),r(F,{icon:"",onClick:_},{default:n(()=>[r(z,{icon:u(O)},null,8,["icon"])]),_:1}),u(e).stargazers_count?(l(),v("span",X,[m(g(u(e).stargazers_count)+" ",1),r(z,{icon:u(E)},null,8,["icon"])])):p("",!0)]),_:1}),r(N,null,{default:n(()=>[Y]),_:1})]),_:1}))}});const aa=C(Z,[["__scopeId","data-v-58e30459"]]),ta=w({__name:"PluginsView",setup(s){const{t:a}=j(),{reposData:t}=K("MikChanNoPlugins"),e=f(()=>{var o;return(o=t.value.reposData)!=null?o:[]}),c=f(()=>t.value.status),_=f(()=>e.value.filter(o=>{var d;return(d=o.topics)==null?void 0:d.includes("spigot-plugin")}).sort((o,d)=>d.stargazers_count-o.stargazers_count));return(o,d)=>(l(),i(J,{class:"container"},{default:n(()=>[r(W,null,{default:n(()=>[m(g(u(a)("plugins")),1)]),_:1}),u(c)==="loading"?(l(),i(R,{key:0})):p("",!0),u(c)==="notFound"?(l(),i(P,{key:1},{default:n(()=>[m(g(u(a)("not-found")),1)]),_:1})):p("",!0),u(c)==="found"?(l(),i(b,{key:2},{default:n(()=>[(l(!0),v(M,null,q(u(_),h=>(l(),i(k,{key:h.id,cols:"12",sm:"6",md:"4"},{default:n(()=>[r(aa,{data:h},null,8,["data"])]),_:2},1024))),128))]),_:1})):p("",!0)]),_:1}))}});function y(s){s.__i18n=s.__i18n||[],s.__i18n.push({locale:"",resource:{en:{plugins:a=>{const{normalize:t}=a;return t(["Plugins"])},"not-found":a=>{const{normalize:t}=a;return t(["Nothing was found."])}},ru:{plugins:a=>{const{normalize:t}=a;return t(["\u041F\u043B\u0430\u0433\u0438\u043D\u044B"])},"not-found":a=>{const{normalize:t}=a;return t(["\u041D\u0438\u0447\u0435\u0433\u043E \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E."])}},uk:{plugins:a=>{const{normalize:t}=a;return t(["\u041F\u043B\u0430\u0433\u0456\u043D\u0438"])},"not-found":a=>{const{normalize:t}=a;return t(["\u041D\u0456\u0447\u043E\u0433\u043E \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u043E."])}}}})}typeof y=="function"&&y(ta);export{ta as default};
