import{o as x,R,a as P}from"./RowLoading.44fbc023.js";import{$ as S,a0 as L,a1 as T,a2 as C,o as l,c as i,w as s,a as r,h as V,a3 as k,a4 as B,V as b,d as w,i as I,U as f,a5 as $,a6 as F,t as g,e as u,g as O,a7 as z,a8 as E,a9 as v,f as m,aa as G,ab as p,ac as j,j as J,ad as q,ae as M}from"./index.6a157ce1.js";import{V as D,a as N}from"./VCard.e93b929f.js";const U=async n=>({reposData:(await x.repos.listForOrg({org:n})).data.map(e=>{var c,d;return{...e,topics:(c=e.topics)!=null?c:[],stargazers_count:(d=e.stargazers_count)!=null?d:0}})}),A=()=>{const n=sessionStorage.getItem("github-repo-data");return n==null?{status:"loading"}:{...JSON.parse(n),status:"found"}},H=n=>{const a=S(A());return L(()=>{(async()=>{try{const e=await U(n);a.value={...e,status:"found"},sessionStorage.setItem("github-repo-data",JSON.stringify(e))}catch(e){a.value.status=="loading"&&(console.error(e),a.value={status:"notFound"})}})()}),{reposData:T(a)}},K={};function Q(n,a){return l(),i(b,null,{default:s(()=>[r(V,{cols:"auto"},{default:s(()=>[r(D,null,{default:s(()=>[r(N,null,{default:s(()=>[k("h1",null,[B(n.$slots,"default")])]),_:3})]),_:3})]),_:3})]),_:3})}const W=C(K,[["render",Q]]),X={key:0},Y=w({__name:"PluginListCard",props:{data:{type:Object,required:!0}},setup(n){const a=n,t=I(),e=f(()=>a.data),c=()=>t.push({name:"plugin",params:{name:e.value.name.toLowerCase()}}),d=()=>{var o;return(o=window.open(`https://github.com/${e.value.full_name}`,"_blank"))==null?void 0:o.focus()};return(o,_)=>(l(),i(D,null,{default:s(()=>[r($,{flat:""},{default:s(()=>[r(F,null,{default:s(()=>[k("span",{class:"hoverable",onClick:c},g(u(e).name),1)]),_:1}),r(O,{icon:"",onClick:d},{default:s(()=>[r(z,{icon:u(E)},null,8,["icon"])]),_:1}),u(e).stargazers_count?(l(),v("span",X,[m(g(u(e).stargazers_count)+" ",1),r(z,{icon:u(G)},null,8,["icon"])])):p("",!0)]),_:1}),r(N,null,{default:s(()=>[m(" Nothing here ")]),_:1})]),_:1}))}});const Z=C(Y,[["__scopeId","data-v-58e30459"]]),aa=w({__name:"PluginsView",setup(n){const{t:a}=j(),{reposData:t}=H("MikChanNoPlugins"),e=f(()=>{var o;return(o=t.value.reposData)!=null?o:[]}),c=f(()=>t.value.status),d=f(()=>e.value.filter(o=>{var _;return(_=o.topics)==null?void 0:_.includes("spigot-plugin")}).sort((o,_)=>_.stargazers_count-o.stargazers_count));return(o,_)=>(l(),i(J,{class:"container"},{default:s(()=>[r(W,null,{default:s(()=>[m(g(u(a)("plugins")),1)]),_:1}),u(c)==="loading"?(l(),i(R,{key:0})):p("",!0),u(c)==="notFound"?(l(),i(P,{key:1},{default:s(()=>[m(g(u(a)("not-found")),1)]),_:1})):p("",!0),u(c)==="found"?(l(),i(b,{key:2},{default:s(()=>[(l(!0),v(M,null,q(u(d),h=>(l(),i(V,{key:h.id,cols:"12",sm:"6",md:"4"},{default:s(()=>[r(Z,{data:h},null,8,["data"])]),_:2},1024))),128))]),_:1})):p("",!0)]),_:1}))}});function y(n){n.__i18n=n.__i18n||[],n.__i18n.push({locale:"",resource:{en:{plugins:a=>{const{normalize:t}=a;return t(["Plugins"])},"not-found":a=>{const{normalize:t}=a;return t(["Nothing was found."])}},ru:{plugins:a=>{const{normalize:t}=a;return t(["\u041F\u043B\u0430\u0433\u0438\u043D\u044B"])},"not-found":a=>{const{normalize:t}=a;return t(["\u041D\u0438\u0447\u0435\u0433\u043E \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E."])}},uk:{plugins:a=>{const{normalize:t}=a;return t(["\u041F\u043B\u0430\u0433\u0456\u043D\u0438"])},"not-found":a=>{const{normalize:t}=a;return t(["\u041D\u0456\u0447\u043E\u0433\u043E \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u043E."])}}}})}typeof y=="function"&&y(aa);export{aa as default};
